@page

@model weekday.Pages.TeamMember.Dashboard
@{
    //ViewData["Title"] = "Dashboard";
}

<h1>@ViewData["Title"]</h1>

<div class="row my-3">
    <div class="col-12 col-lg-4 col-md-4">
        <div class="card" style="height: 85vh;">
            <div class="card-body card-scroll d-flex flex-column" style="gap : 10px;">
                @* //ToDoList *@
                <h4>@Model.TempData["Success Message"]</h4>
                <h1>ToDo</h1>
                @foreach (var tasks in Model.PTList)
                {
                    if (Model.employeeID == tasks.AssignedForId && Model.ProjectId == tasks.ProjectId && tasks.Status.ToUpper() == "TODO")
                    {
                        <div class="card">
                            <div class="card-body">
                                <h5>ProjectName: @Model.ProjectName</h5>
                                <h5>Task ID: @tasks.TaskId</h5>
                                <h5 class="card-title">Title: @tasks.Title</h5>
                                <h6 class="card-subtitle mb-2 text-body-secondary">Assigned by @tasks.AssignedById</h6>
                                <h6>Deadline: @tasks.Deadline</h6>
                                <h6>Status: <span style="color:red">@tasks.Status.ToUpper()</span></h6>
                                <a class="btn btn-danger" asp-page="/TeamMember/TaskCompletion" asp-route-taskID="@tasks.TaskId" asp-route-ProjectName="@Model.ProjectName">Working for-></a>
                                @* asp-route-ProjectName="@Model.ProjectName" *@
                                @* asp-route-ProjectName="@Model.ProjectName" *@
                                @* asp-route-ProjectName="@Model.ProjectName" *@

                            </div>
                        </div>
                    }
                }
                

            </div>
        </div>
    </div>

    @*---------------------------------Done Card------------------------------ *@
    @* In Progree row *@
    <div class="col-12 col-lg-4 col-md-4 ">
        <div class="card" style="height: 85vh;">
            <div class="card-body">
                <h1 class="pb-2">InProgress</h1>

                @foreach(var tasks in Model.PTList)
                {
                    if (Model.employeeID == tasks.AssignedForId && Model.ProjectId==tasks.ProjectId && tasks.Status.ToUpper() == "INPROGRESS")
                    {
                        <div class="card">
                            <div class="card-body">
                                <h5>ProjectName: @Model.ProjectName</h5>
                                <h5>Task ID: @tasks.TaskId</h5>
                                <h5 class="card-title">Title: @tasks.Title</h5>
                                <h6 class="card-subtitle mb-2 text-body-secondary">Assigned by @tasks.AssignedById</h6>
                                <h6>Deadline: @tasks.Deadline</h6>
                                <h6>Status: <span style="color:orange">@tasks.Status.ToUpper()</span></h6>
                                <a class="btn btn-primary" asp-page="/TeamMember/TaskCompletion" asp-route-taskID="@tasks.TaskId">For task completion-></a>
                            </div>
                        </div>
                    }
                }


            </div>
        </div>
    </div>


    @*---------------------------------Done Card------------------------------ *@

    @* Done card row*@
    <div class="col-lg-4 col-md-4">
        <div class="card" style="height: 85vh;">
            <div class="card-body">
                <h1 class="pb-2">Done</h1>
                

                @foreach(var tasks in Model.PTList)
                {
                    if (Model.employeeID == tasks.AssignedForId && Model.ProjectId == tasks.ProjectId && tasks.Status.ToUpper() == "DONE")
                    {
                        <div class="card">
                            <div class="card-body">
                                <h5>ProjectName: @Model.ProjectName</h5>
                                <h5>Task ID: @tasks.TaskId</h5>
                                <h5 class="card-title">Title: @tasks.Title</h5>
                                <h6 class="card-subtitle mb-2 text-body-secondary">Assigned by @tasks.AssignedById</h6>
                                <h6>Deadline: @tasks.Deadline</h6>
                                <h6>Status:<span style="color:green">@tasks.Status.ToUpper()</span> </h6>
                                <a class="btn btn-success" asp-page="/TeamMember/TaskCompletion" asp-route-taskID="@tasks.TaskId">For task review-></a>
                            </div>
                        </div>
                    }
                    @* else
                    {
                        <h6>Completed Taks are empty.</h6>
                    } *@
                }

                @* <div class="card">
                    <div class="card-body">
                        <h5 class="card-title">Task ID: </h5>
                        <h5 class="card-subtitle mb-2 text-body-secondary">Title: </h5>
                        <h6>Dealine: </h6>
                        <h6>>Status</h6>
                        <h6><a class="">For task completion-></a></h6>
                    </div>
                </div> *@


            </div>
        </div>
    </div>
</div>

@* CSS  ---------------------------------------------------------------------------------------------------------------------------------------

.card-scroll {
    overflow-y: scroll; /* Enable vertical scrolling */
    scrollbar-width: none; /* For Firefox */
    -ms-overflow-style: none; /* For Internet Explorer and Edge */
}

    .card-scroll::-webkit-scrollbar {
        display: none; /* For Chrome, Safari, and Edge */
    } *@

